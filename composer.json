{
    "name": "alphavel/skeleton",
    "description": "Minimal Alphavel Framework application skeleton - install only what you need",
    "type": "project",
    "license": "MIT",
    "require": {
        "php": ">=8.1",
        "alphavel/alphavel": "^1.0"
    },
    "require-dev": {
        "alphavel/alpha": "^1.0",
        "laravel/pint": "^1.25",
        "phpunit/phpunit": "^10.5",
        "squizlabs/php_codesniffer": "^4.0"
    },
    "suggest": {
        "ext-swoole": "Required for high-performance async server (520k+ req/s). Install: sudo pecl install swoole",
        "alphavel/database": "For database operations and query builder",
        "alphavel/cache": "For caching support (Redis, Memcached, File)",
        "alphavel/events": "For event-driven architecture",
        "alphavel/logging": "For application logging",
        "alphavel/validation": "For request validation"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php -r \"echo '\\nüöÄ Alphavel Framework\\n';\"",
            "@php -r \"echo '===================\\n\\n';\"",
            "@create-directories",
            "@set-permissions",
            "@check-environment",
            "@php -r \"echo '\\n‚úÖ Projeto criado com sucesso!\\n\\n';\"",
            "@show-next-steps"
        ],
        "post-install-cmd": [
            "@create-directories",
            "@set-permissions"
        ],
        "post-update-cmd": [
            "@create-directories"
        ],
        "create-directories": [
            "@php -r \"!is_dir('storage/framework') && mkdir('storage/framework', 0777, true);\"",
            "@php -r \"!is_dir('storage/logs') && mkdir('storage/logs', 0777, true);\"",
            "@php -r \"!is_dir('storage/cache') && mkdir('storage/cache', 0777, true);\"",
            "@php -r \"!is_dir('bootstrap/cache') && mkdir('bootstrap/cache', 0777, true);\""
        ],
        "set-permissions": [
            "@php -r \"@chmod('storage', 0777);\"",
            "@php -r \"@chmod('storage/framework', 0777);\"",
            "@php -r \"@chmod('storage/logs', 0777);\"",
            "@php -r \"@chmod('storage/cache', 0777);\"",
            "@php -r \"@chmod('bootstrap/cache', 0777);\""
        ],
        "check-environment": [
            "@php -r \"if (!extension_loaded('swoole')) { echo '\\n‚ö†Ô∏è  Extens√£o Swoole n√£o encontrada!\\n\\n'; echo 'Op√ß√µes de instala√ß√£o:\\n'; echo '  1) Docker: docker-compose -f docker-compose.dev.yml up\\n'; echo '  2) Ubuntu/Debian: sudo apt install php-swoole\\n'; echo '  3) macOS: pecl install swoole\\n'; echo '  4) Windows: Use Docker (Swoole n√£o suporta Windows)\\n'; }\""
        ],
        "show-next-steps": [
            "@php -r \"echo 'üìù Pr√≥ximos passos:\\n\\n';\"",
            "@php -r \"if (extension_loaded('swoole')) { echo '  ‚úÖ Swoole detectado! Servidor pronto para iniciar:\\n\\n'; echo '     php public/index.php\\n'; echo '     # ou\\n'; echo '     make start\\n\\n'; echo '  üåê Acesse: http://localhost:9999\\n\\n'; } else { echo '  üì¶ Instale Swoole (veja op√ß√µes acima)\\n'; echo '  üê≥ Ou use Docker:\\n\\n'; echo '     docker-compose -f docker-compose.dev.yml up\\n'; echo '     # ou\\n'; echo '     make dev\\n\\n'; echo '  üåê Acesse: http://localhost:9999\\n\\n'; }\"",
            "@php -r \"echo 'üì¶ Pacotes opcionais:\\n';\"",
            "@php -r \"echo '   composer require alphavel/database  # ORM e Query Builder\\n';\"",
            "@php -r \"echo '   composer require alphavel/cache     # Cache (Redis, File)\\n';\"",
            "@php -r \"echo '   composer require alphavel/logging   # Logs (PSR-3)\\n\\n';\"",
            "@php -r \"echo 'üìö Documenta√ß√£o: https://github.com/alphavel/skeleton\\n';\"",
            "@php -r \"echo 'üí¨ Suporte: https://github.com/alphavel/skeleton/issues\\n\\n';\""
        ],
        "test": "phpunit",
        "test-coverage": "phpunit --coverage-html coverage",
        "start": "php public/index.php",
        "dev": "php public/index.php",
        "serve": "php public/index.php"
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true
    },
    "extra": {
        "alphavel": {
            "providers": []
        }
    },
    "minimum-stability": "dev",
    "prefer-stable": true
}
