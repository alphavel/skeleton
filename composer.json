{
    "name": "alphavel/skeleton",
    "description": "Minimal Alphavel Framework application skeleton - install only what you need",
    "type": "project",
    "license": "MIT",
    "require": {
        "php": ">=8.4",
        "alphavel/alphavel": "^1.0"
    },
    "require-dev": {
        "laravel/pint": "^1.25",
        "phpunit/phpunit": "^10.5",
        "squizlabs/php_codesniffer": "^4.0"
    },
    "suggest": {
        "ext-swoole": "Required for high-performance async server (520k+ req/s). Install: sudo pecl install swoole",
        "alphavel/alpha": "CLI tools for code generation (requires alphavel/database)",
        "alphavel/database": "For database operations and query builder",
        "alphavel/cache": "For caching support (Redis, Memcached, File)",
        "alphavel/events": "For event-driven architecture",
        "alphavel/logging": "For application logging",
        "alphavel/validation": "For request validation"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php -r \"echo PHP_EOL . 'üöÄ Alphavel Framework' . PHP_EOL;\"",
            "@php -r \"echo '===================' . PHP_EOL . PHP_EOL;\"",
            "@create-directories",
            "@set-permissions",
            "@check-environment",
            "@php -r \"echo PHP_EOL . '‚úÖ Projeto criado com sucesso!' . PHP_EOL . PHP_EOL;\"",
            "@show-next-steps"
        ],
        "post-install-cmd": [
            "@create-directories",
            "@set-permissions"
        ],
        "post-update-cmd": [
            "@create-directories"
        ],
        "create-directories": [
            "@php -r \"!is_dir('storage/framework') && mkdir('storage/framework', 0777, true);\"",
            "@php -r \"!is_dir('storage/logs') && mkdir('storage/logs', 0777, true);\"",
            "@php -r \"!is_dir('storage/cache') && mkdir('storage/cache', 0777, true);\"",
            "@php -r \"!is_dir('bootstrap/cache') && mkdir('bootstrap/cache', 0777, true);\""
        ],
        "set-permissions": [
            "@php -r \"@chmod('storage', 0777);\"",
            "@php -r \"@chmod('storage/framework', 0777);\"",
            "@php -r \"@chmod('storage/logs', 0777);\"",
            "@php -r \"@chmod('storage/cache', 0777);\"",
            "@php -r \"@chmod('bootstrap/cache', 0777);\""
        ],
        "check-environment": [
            "@php -r \"if (!extension_loaded('swoole')) { echo PHP_EOL . '‚ö†Ô∏è  Extens√£o Swoole n√£o encontrada!' . PHP_EOL . PHP_EOL; echo 'Op√ß√µes de instala√ß√£o:' . PHP_EOL; echo '  1) Docker: docker-compose -f docker-compose.dev.yml up' . PHP_EOL; echo '  2) Ubuntu/Debian: sudo apt install php-swoole' . PHP_EOL; echo '  3) macOS: pecl install swoole' . PHP_EOL; echo '  4) Windows: Use Docker (Swoole n√£o suporta Windows)' . PHP_EOL; }\""
        ],
        "show-next-steps": [
            "@php -r \"echo 'üìù Pr√≥ximos passos:' . PHP_EOL . PHP_EOL;\"",
            "@php -r \"if (extension_loaded('swoole')) { echo '  ‚úÖ Swoole detectado! Servidor pronto para iniciar:' . PHP_EOL . PHP_EOL; echo '     php public/index.php' . PHP_EOL; echo '     # ou' . PHP_EOL; echo '     make start' . PHP_EOL . PHP_EOL; echo '  üåê Acesse: http://localhost:9999' . PHP_EOL . PHP_EOL; } else { echo '  üì¶ Instale Swoole (veja op√ß√µes acima)' . PHP_EOL; echo '  üê≥ Ou use Docker:' . PHP_EOL . PHP_EOL; echo '     docker-compose -f docker-compose.dev.yml up' . PHP_EOL; echo '     # ou' . PHP_EOL; echo '     make dev' . PHP_EOL . PHP_EOL; echo '  üåê Acesse: http://localhost:9999' . PHP_EOL . PHP_EOL; }\"",
            "@php -r \"echo 'üì¶ Pacotes opcionais:' . PHP_EOL;\"",
            "@php -r \"echo '   composer require alphavel/database  # ORM e Query Builder' . PHP_EOL;\"",
            "@php -r \"echo '   composer require alphavel/cache     # Cache (Redis, File)' . PHP_EOL;\"",
            "@php -r \"echo '   composer require alphavel/logging   # Logs (PSR-3)' . PHP_EOL . PHP_EOL;\"",
            "@php -r \"echo 'üìö Documenta√ß√£o: https://github.com/alphavel/skeleton' . PHP_EOL;\"",
            "@php -r \"echo 'üí¨ Suporte: https://github.com/alphavel/skeleton/issues' . PHP_EOL . PHP_EOL;\""
        ],
        "test": "phpunit",
        "test-coverage": "phpunit --coverage-html coverage",
        "start": "php public/index.php",
        "dev": "php public/index.php",
        "serve": "php public/index.php"
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true
    },
    "extra": {
        "alphavel": {
            "providers": []
        }
    },
    "minimum-stability": "dev",
    "prefer-stable": true
}
