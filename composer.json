{
    "name": "alphavel/skeleton",
    "description": "Minimal Alphavel Framework application skeleton - install only what you need",
    "type": "project",
    "license": "MIT",
    "require": {
        "php": ">=8.3",
        "alphavel/alphavel": "^1.0"
    },
    "require-dev": {
        "laravel/pint": "^1.25",
        "phpunit/phpunit": "^10.5",
        "squizlabs/php_codesniffer": "^4.0"
    },
    "suggest": {
        "ext-swoole": "Required for high-performance async server (520k+ req/s). Install: sudo pecl install swoole",
        "alphavel/alpha": "CLI tools for code generation (requires alphavel/database)",
        "alphavel/database": "For database operations and query builder",
        "alphavel/cache": "For caching support (Redis, Memcached, File)",
        "alphavel/events": "For event-driven architecture",
        "alphavel/logging": "For application logging",
        "alphavel/validation": "For request validation"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php -r \"printf(\\\"\\nüöÄ Alphavel Framework\\n\\\");\"",
            "@php -r \"printf(\\\"===================\\n\\n\\\");\"",
            "@create-directories",
            "@set-permissions",
            "@check-environment",
            "@php -r \"printf(\\\"\\n‚úÖ Projeto criado com sucesso!\\n\\n\\\");\"",
            "@show-next-steps"
        ],
        "post-install-cmd": [
            "@create-directories",
            "@set-permissions"
        ],
        "post-update-cmd": [
            "@create-directories"
        ],
        "create-directories": [
            "@php -r \"!is_dir('storage/framework') && mkdir('storage/framework', 0777, true);\"",
            "@php -r \"!is_dir('storage/logs') && mkdir('storage/logs', 0777, true);\"",
            "@php -r \"!is_dir('storage/cache') && mkdir('storage/cache', 0777, true);\"",
            "@php -r \"!is_dir('bootstrap/cache') && mkdir('bootstrap/cache', 0777, true);\""
        ],
        "set-permissions": [
            "@php -r \"@chmod('storage', 0777);\"",
            "@php -r \"@chmod('storage/framework', 0777);\"",
            "@php -r \"@chmod('storage/logs', 0777);\"",
            "@php -r \"@chmod('storage/cache', 0777);\"",
            "@php -r \"@chmod('bootstrap/cache', 0777);\""
        ],
        "check-environment": [
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"\\n‚ö†Ô∏è  Extens√£o Swoole n√£o encontrada!\\n\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"Op√ß√µes de instala√ß√£o:\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  1) Docker: docker-compose -f docker-compose.dev.yml up\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  2) Ubuntu/Debian: sudo apt install php-swoole\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  3) macOS: pecl install swoole\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  4) Windows: Use Docker (Swoole n√£o suporta Windows)\\n\\\"); }\""
        ],
        "show-next-steps": [
            "@php -r \"printf(\\\"üìù Pr√≥ximos passos:\\n\\n\\\");\"",
            "@php -r \"if (extension_loaded('swoole')) { printf(\\\"  ‚úÖ Swoole detectado! Servidor pronto:\\n\\n\\\"); }\"",
            "@php -r \"if (extension_loaded('swoole')) { printf(\\\"     php public/index.php\\n\\\"); }\"",
            "@php -r \"if (extension_loaded('swoole')) { printf(\\\"     # ou: make start\\n\\n\\\"); }\"",
            "@php -r \"if (extension_loaded('swoole')) { printf(\\\"  üåê http://localhost:9999\\n\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  üì¶ Instale Swoole (veja op√ß√µes acima)\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  üê≥ Ou use Docker:\\n\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"     docker-compose -f docker-compose.dev.yml up\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"     # ou: make dev\\n\\n\\\"); }\"",
            "@php -r \"if (!extension_loaded('swoole')) { printf(\\\"  üåê http://localhost:9999\\n\\n\\\"); }\"",
            "@php -r \"printf(\\\"üì¶ Pacotes opcionais:\\n\\\");\"",
            "@php -r \"printf(\\\"   composer require alphavel/database\\n\\\");\"",
            "@php -r \"printf(\\\"   composer require alphavel/cache\\n\\\");\"",
            "@php -r \"printf(\\\"   composer require alphavel/logging\\n\\n\\\");\"",
            "@php -r \"printf(\\\"üìö https://github.com/alphavel/skeleton\\n\\\");\"",
            "@php -r \"printf(\\\"üí¨ https://github.com/alphavel/skeleton/issues\\n\\n\\\");\""
        ],
        "test": "phpunit",
        "test-coverage": "phpunit --coverage-html coverage",
        "start": "php public/index.php",
        "dev": "php public/index.php",
        "serve": "php public/index.php"
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true
    },
    "extra": {
        "alphavel": {
            "providers": []
        }
    },
    "minimum-stability": "dev",
    "prefer-stable": true
}
