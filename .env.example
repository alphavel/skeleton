# Application Configuration
APP_NAME="Alphavel App"

# Environment: local, development, staging, production
# ⚠️ CRITICAL: Set to "production" in live environments
# - local/development: Enables debug mode, validation warnings, detailed error pages
# - production: Disables debug, optimizes performance, hides sensitive errors
APP_ENV=local

# Debug Mode: true/false (NOT "true"/"false" strings)
# ⚠️ CRITICAL: Must be false in production!
# - true: Shows detailed errors, stack traces, SQL queries (NEVER in production!)
# - false: Hides sensitive information, returns generic error messages
# Note: Alphavel's env() helper converts "false" string to boolean false automatically
APP_DEBUG=true

# Application Port
APP_PORT=9999

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=9999

# Swoole Mode: SWOOLE_BASE or SWOOLE_PROCESS
# - SWOOLE_BASE: Better for stateless REST APIs (lower overhead, direct worker processing)
# - SWOOLE_PROCESS: Better for WebSockets, task workers, complex state management
# Recommendation: Use SWOOLE_BASE for HTTP/REST APIs (10-15% faster)
SERVER_MODE=SWOOLE_BASE

SERVER_SOCK_TYPE=SWOOLE_SOCK_TCP

# Swoole Configuration (Otimizado para Performance)
SWOOLE_WORKER_NUM=4  # Auto-detecta CPU cores se não definido
SWOOLE_TASK_WORKER_NUM=4
SWOOLE_MAX_REQUEST=0  # 0 = unlimited (recomendado para apps modernas)
SWOOLE_DISPATCH_MODE=3  # 3 = Concurrent (melhor para APIs stateless)
SWOOLE_ENABLE_COROUTINE=true

# Server Configuration (Otimizado)
SERVER_WORKERS=  # Auto-detecta swoole_cpu_num() se vazio
SERVER_REACTORS=  # Auto-detecta swoole_cpu_num() se vazio
SERVER_DISPATCH_MODE=3  # 3 = Concurrent mode
SERVER_MAX_COROUTINE=100000
SERVER_MAX_CONNECTIONS=10000
SERVER_MAX_REQUEST=0  # 0 = unlimited

# Database Configuration (Optimized for Performance)
# ⚡ These defaults achieve 7,000+ req/s on database workloads
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=alphavel
DB_USERNAME=root
DB_PASSWORD=
# DB_CHARSET=utf8mb4

# Connection Pool Configuration
# DB_POOL_SIZE controls database connection management strategy:
#
# 0 (default) = SINGLETON MODE - Recommended for most applications
#   ✅ Pros: Zero pool overhead, maximum performance for reads (7,000+ req/s)
#   ✅ Best for: APIs with mostly SELECT queries, low-medium traffic
#   ⚠️  Cons: May bottleneck under extreme concurrency (1000+ simultaneous connections)
#
# workers × 2 = MINIMAL POOL - Balanced approach
#   Example: 4 workers × 2 = 8 connections
#   ✅ Pros: Handles moderate concurrency well, isolated connections per worker
#   ✅ Best for: Mixed read/write workloads, medium traffic
#
# 50-100 = LARGE POOL - High concurrency scenarios
#   ✅ Pros: Handles 100+ simultaneous DB operations, no blocking
#   ✅ Best for: High traffic APIs, complex transactions, microservices
#   ⚠️  Cons: Higher memory usage, slight pool management overhead
#
# Recommendation: Start with 0 (singleton), scale to pool if needed
# DB_POOL_SIZE=0

# Cache Configuration (requires alphavel/cache)
CACHE_DRIVER=file
CACHE_PREFIX=alphavel_cache_
CACHE_TTL=3600

# Redis Configuration (requires alphavel/cache with Redis driver)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DATABASE=0

# Logging Configuration (requires alphavel/logging)
LOG_CHANNEL=single
LOG_LEVEL=debug
LOG_PATH=storage/logs

# Session Configuration
SESSION_DRIVER=file
SESSION_LIFETIME=120
SESSION_ENCRYPT=false

# Queue Configuration
QUEUE_CONNECTION=sync

# Application Timezone
APP_TIMEZONE=UTC

# Application Locale
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
