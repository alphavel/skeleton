# Application Configuration
APP_NAME="Alphavel App"

# Environment: local, development, staging, production
# âš ï¸ CRITICAL: Set to "production" in live environments
# - local/development: Enables debug mode, validation warnings, detailed error pages
# - production: Disables debug, optimizes performance, hides sensitive errors
APP_ENV=local

# Debug Mode: true/false (NOT "true"/"false" strings)
# âš ï¸ CRITICAL: Must be false in production!
# - true: Shows detailed errors, stack traces, SQL queries (NEVER in production!)
# - false: Hides sensitive information, returns generic error messages
# Note: Alphavel's env() helper converts "false" string to boolean false automatically
APP_DEBUG=true

# Application Port
APP_PORT=9999

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=9999

# Swoole Mode: SWOOLE_BASE or SWOOLE_PROCESS
# - SWOOLE_BASE: Better for stateless REST APIs (lower overhead, direct worker processing)
# - SWOOLE_PROCESS: Better for WebSockets, task workers, complex state management
# Recommendation: Use SWOOLE_BASE for HTTP/REST APIs (10-15% faster)
SERVER_MODE=SWOOLE_BASE

SERVER_SOCK_TYPE=SWOOLE_SOCK_TCP

# Swoole Configuration (Otimizado para Performance)
SWOOLE_WORKER_NUM=4  # Auto-detecta CPU cores se nÃ£o definido
SWOOLE_TASK_WORKER_NUM=4
SWOOLE_MAX_REQUEST=0  # 0 = unlimited (recomendado para apps modernas)
SWOOLE_DISPATCH_MODE=3  # 3 = Concurrent (melhor para APIs stateless)
SWOOLE_ENABLE_COROUTINE=true

# Server Configuration (Otimizado)
SERVER_WORKERS=  # Auto-detecta swoole_cpu_num() se vazio
SERVER_REACTORS=  # Auto-detecta swoole_cpu_num() se vazio
SERVER_DISPATCH_MODE=3  # 3 = Concurrent mode
SERVER_MAX_COROUTINE=100000
SERVER_MAX_CONNECTIONS=10000
SERVER_MAX_REQUEST=0  # 0 = unlimited

# Database Configuration (Optimized for Performance)
# âš¡ These defaults achieve 7,000+ req/s on database workloads
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=alphavel
DB_USERNAME=root
DB_PASSWORD=
# DB_CHARSET=utf8mb4

# Connection Pool Configuration
# DB_POOL_SIZE controls database connection management strategy:
#
# 0 (default) = SINGLETON MODE - Recommended for most applications
#   âœ… Pros: Zero pool overhead, maximum performance for reads (7,000+ req/s)
#   âœ… Best for: APIs with mostly SELECT queries, low-medium traffic
#   âš ï¸  Cons: May bottleneck under extreme concurrency (1000+ simultaneous connections)
#   âš ï¸  Note: In benchmarks, showed 18% failure rate at 20+ concurrent DB requests
#
# 10-20 = RECOMMENDED POOL - For production with database queries
#   âœ… Pros: Handles 20-100 concurrent DB operations reliably
#   âœ… Best for: Production APIs with database access, mixed read/write workloads
#   âœ… Benchmark: Eliminates connection bottlenecks, near-zero failures
#   Example: DB_POOL_SIZE=10
#
# workers Ã— 2 = MINIMAL POOL - Balanced approach
#   Example: 4 workers Ã— 2 = 8 connections
#   âœ… Pros: Isolated connections per worker, handles moderate concurrency
#   âœ… Best for: Medium traffic, predictable concurrency patterns
#
# 50-100 = LARGE POOL - High concurrency scenarios
#   âœ… Pros: Handles 100+ simultaneous DB operations, no blocking
#   âœ… Best for: High traffic APIs, complex transactions, microservices
#   âš ï¸  Cons: Higher memory usage, slight pool management overhead
#
# ðŸŽ¯ Quick Guide:
#   - Development / Prototyping: DB_POOL_SIZE=0 (singleton)
#   - Production with DB access: DB_POOL_SIZE=10 (recommended)
#   - High traffic (>100 req/s): DB_POOL_SIZE=20-50
#   - Microservices / Heavy load: DB_POOL_SIZE=50-100
#
# DB_POOL_SIZE=0

# Cache Configuration (requires alphavel/cache)
CACHE_DRIVER=file
CACHE_PREFIX=alphavel_cache_
CACHE_TTL=3600

# Redis Configuration (requires alphavel/cache with Redis driver)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DATABASE=0

# Logging Configuration (requires alphavel/logging)
LOG_CHANNEL=single
LOG_LEVEL=debug
LOG_PATH=storage/logs

# Session Configuration
SESSION_DRIVER=file
SESSION_LIFETIME=120
SESSION_ENCRYPT=false

# Queue Configuration
QUEUE_CONNECTION=sync

# Application Timezone
APP_TIMEZONE=UTC

# Application Locale
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
